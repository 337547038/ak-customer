import{_,m as f}from"./childUser.vue_vue_type_script_setup_true_lang-DWodqY6d.js";import{d as x,k as b,v as c,m as k,c as v,o as T,F as B,i as C,h as y,B as A}from"./index-BqO2u9IT.js";const S=x({__name:"bar",props:{pageType:{}},setup(l){const u=b(),s=l,m=e=>{i(e)},o=c([]),p=c([]),d=c({tooltip:{},xAxis:{type:"category",data:o},yAxis:{type:"value"},series:[{label:{show:!0,position:"top"},barMaxWidth:100,data:p,type:"bar"}]}),g=e=>{let t=s.pageType;switch(s.pageType){case"industry":t="industryType";break;case"type":t="cooperationType";break}const h=u.getSystemDict(t),a={};e.forEach(n=>{const r=h[n[s.pageType]]||"未分类";a[r]||(a[r]=0),a[r]++}),o.value=Object.keys(a),p.value=o.value.map(n=>a[n])},i=e=>{A("analysisCustomer",{userId:e}).then(t=>{g(t.data?.list)})};return k(()=>{i()}),(e,t)=>(T(),v(B,null,[C("div",null,[y(_,{onChange:m})]),y(f,{option:d.value},null,8,["option"])],64))}});export{S as _};
