import{_,m as f}from"./childUser.vue_vue_type_script_setup_true_lang-DfJMNd9i.js";import{d as x,k as b,l as c,n as k,c as v,o as T,F as C,i as D,h as l,D as A}from"./index-u99e6QAI.js";const S=x({__name:"bar",props:{pageType:{}},setup(y){const u=b(),s=y,m=e=>{i(e)},o=c([]),p=c([]),d=c({tooltip:{},xAxis:{type:"category",data:o},yAxis:{type:"value"},series:[{label:{show:!0,position:"top"},barMaxWidth:100,data:p,type:"bar"}]}),g=e=>{let t=s.pageType;switch(s.pageType){case"industry":t="industryType";break;case"type":t="cooperationType";break}const h=u.getSystemDict(t),a={};e.forEach(n=>{const r=h[n[s.pageType]]||"未分类";a[r]||(a[r]=0),a[r]++}),o.value=Object.keys(a),p.value=o.value.map(n=>a[n])},i=e=>{A("analysisCustomer",{userId:e}).then(t=>{g(t.data?.list)})};return k(()=>{i()}),(e,t)=>(T(),v(C,null,[D("div",null,[l(_,{onChange:m})]),l(f,{option:d.value},null,8,["option"])],64))}});export{S as _};
