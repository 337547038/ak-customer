import{d as V,l as B,v as d,M as k,e as v,g as x,r as p,o as c,c as C,b as L,F as w,z as f,B as F}from"./index-BqO2u9IT.js";const R=V({__name:"index",props:{modelValue:{default:void 0},customerId:{default:null},userId:{default:null}},emits:["update:modelValue","blur"],setup(_,{emit:g}){const n=_,m=g,h=B(()=>n.modelValue,e=>{a.value=e,e&&f(()=>{i("",e)})}),t=d([]),a=d(""),u=d(!1),i=(e,l)=>{if(e||l){u.value=!0;let s={name:e.replace("%",""),tid:n.customerId,userId:n.userId};l&&(s={id:l,userId:n.userId}),F("contactList",s).then(r=>{t.value=r.data.list||[],u.value=!1}).catch(()=>{t.value=[],u.value=!1})}else t.value=[]},b=()=>{m("update:modelValue",a.value)},I=()=>{f(()=>{if(a.value&&t.value.length>0){const e=t.value.find(l=>l.id===a.value);m("blur",a.value,e.name)}})};return k(()=>{h()}),(e,l)=>{const s=p("el-option"),r=p("el-select");return c(),v(r,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value=o),filterable:"",remote:"","remote-method":i,loading:u.value,onBlur:I,onChange:b},{default:x(()=>[(c(!0),C(w,null,L(t.value,o=>(c(),v(s,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])}}});export{R as _};
