import{v as m}from"./validate-BQpdx7O0.js";import{d as q,k as C,l as o,n as h,c as D,i as R,h as r,g as n,F as S,j as V,r as p,D as W,E as w,o as B,v as E,t as T,_ as I,P as f}from"./index-BRtqQkpX.js";import{W as L}from"./index-yAhGm0ul.js";const M={class:"user-center"},b=q({__name:"userCenter",setup(X){const d=V(),i=C().getSystemDict(),s=o(),a=o({}),_=o([{prop:"userName",label:"用户名称",render:"text"},{prop:"statusName",label:"状态",render:"text"},{prop:"sexName",label:"性别",render:"text"},{prop:"tidName",label:"直属上级",render:"text"},{prop:"departmentName",label:"所属部门",render:"text"},{prop:"creatTime",label:"创建时间",render:"text"},{prop:"updateTime",label:"更新时间",render:"text"},{prop:"lastLogin",label:"最后登录时间",render:"text"},{prop:"loginTimer",label:"登录次数",render:"text"},{prop:"ip",label:"最后登录ip",render:"text"},{prop:"password",label:"登录密码",attr:{type:"password",placeholder:"不修改请留空"}},{prop:"phone",label:"手机号码",formItem:{rules:[m("mobile"),m("required","请输入手机号码")]}},{prop:"weixin",label:"微信号码"},{prop:"qq",label:"qq号码"}]),x=(e,t,l)=>(l==="detail"&&(e.statusName=i?.status[e.status],e.sexName=i?.sex[e.sex]),e),u=o(),c=()=>{W("bindWx",params).then(e=>{w.success("绑定成功"),s.value.getData()})},v=()=>{a.value.bindWX?(params.unbind=!0,c()):u.value.open()},g=()=>{const e=d.query.code,t=d.query.state;e&&t&&c()};return h(()=>{s.value.getData(),g()}),(e,t)=>{const l=p("el-button"),y=p("el-form-item"),k=p("ak-form");return B(),D(S,null,[R("div",M,[r(k,{ref_key:"formRef",ref:s,class:"flex-form flex-form-2",pk:"id","label-width":"120",data:_.value,"label-suffix":"：",after:x,api:{edit:"userEdit",detail:"userInfo"},modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=N=>a.value=N)},{default:n(()=>[r(y,{label:"绑定微信"},{default:n(()=>[r(l,{type:"primary",onClick:v},{default:n(()=>[E(T(a.value.bindWX?"解绑":"点击绑定"),1)]),_:1})]),_:1})]),_:1},8,["data","modelValue"])]),r(L,{mode:"dialog",ref_key:"scanCodeRef",ref:u},null,512)],64)}}});typeof f=="function"&&f(b);const P=I(b,[["__scopeId","data-v-320a1b34"]]);export{P as default};
