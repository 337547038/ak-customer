import{_ as f}from"./formData-CGcRpgm-.js";import{g as y}from"./getCityByCode-DzjNnDGo.js";import{_ as b}from"./detailTabs.vue_vue_type_script_setup_true_lang-BtSACVG4.js";import{d as _,r as l,z as g,p as k,I as h,e as v,o as w,g as n,a as x,F as B,D as C,E as i}from"./index-BiMixNdo.js";const M=_({__name:"index",props:{invalidPage:{type:Boolean}},setup(c){const p=c,a=l(),s=l(),o=g(()=>k("delCustomer")),u=[{type:"selection",width:30},{label:"序号",type:"index",width:60},{prop:"company",label:"客户名称"},{prop:"industry",label:"行业分类",render:"tag",replaceValue:"industryType",search:{render:"select",options:"industryType"}},{prop:"area",label:"所属区域",search:{render:"component",component:h(f)},formatter:(e,t,r)=>y(r),showOverflowTooltip:!0},{prop:"operation",label:"操作",render:"buttons",search:!1,fixed:"right",buttons:[{key:"detail",label:"详情",icon:"",attr:{text:!0},click:e=>{a.value.openDrawer(!1,e||{},"")}},{key:"del",label:"删除",icon:"",attr:{text:!0},display:()=>o.value}]}],m=[{key:"toMy",label:"转入跟进",type:"primary",click:e=>{const t=e?.map(r=>r.id).join(",");C("customerMove",{ids:t,type:"toFollow"}).then(r=>{i.success(r.message||"转入成功"),s.value.getData()}).catch(r=>{i.success(r.message||"转入失败")})},disabled:e=>!e?.length},{key:"del",display:()=>o.value}],d=(e,t)=>(e==="get"&&(t.status=p.invalidPage?3:2,t.area&&(t.area=t.area.join(","))),t);return(e,t)=>{const r=x("ak-list");return w(),v(B,null,[n(r,{ref_key:"tableListEl",ref:s,pk:"id",columns:u,api:{list:"customerList",del:"customerDel"},"control-btn":m,before:d},null,512),n(b,{ref_key:"detailTableRef",ref:a,disabled:!0,"tabs-type":"shareWithMe"},null,512)],64)}}});export{M as _};
