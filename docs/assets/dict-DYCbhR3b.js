import{d as P,k as W,E as a,c as v,e as $,n as x,P as j,h as o,g as n,r as s,o as p,i as z,t as H,F as K,b as Q,ab as R,x as X,J as Y,_ as Z}from"./index-CNiyTwfQ.js";import ee from"./wap-CyVjnsAY.js";const le={key:0},te=P({__name:"dict",setup(ae){const S=W(),m=a("新增字典"),b=a(),_=e=>{d.value=!0,m.value="编辑字典",Y(()=>{b.value.getData({id:e.id})})},D=a([{key:"add",click:()=>{d.value=!0,m.value="新增字典"}},{key:"edit",click:e=>{e?.length>0&&_(e[0])}},{key:"del"}]),L=a([{type:"selection"},{label:"序号",type:"index",width:80},{prop:"name",label:"字典名称"},{prop:"type",label:"字典标识"},{prop:"status",label:"状态",render:"tag",replaceValue:{1:"启用",0:"禁用"},custom:{1:"success",0:"danger"},search:{render:"select",options:[{value:"0",label:"禁用"},{value:"1",label:"启用"}]}},{prop:"dateTime",label:"更新时间",width:180,render:"datetime",search:!1},{label:"操作",render:"buttons",buttons:[{key:"edit",label:"编辑",click:e=>{_(e)}},{label:"设置",click:e=>{i.value=!0,r.value.id=e.id,r.value.name=e.name,r.value.type=e.type,e.children&&(u.value=JSON.parse(e.children))}},{label:"删除",key:"del",tooltip:"del",popConfirm:{confirmButtonType:"danger"},display:e=>e.isSys===0,disabled:e=>e.isSys===1}]}]),U=(e,l)=>l,B=()=>{},d=a(!1),h=()=>{d.value=!1},k=a({status:1}),N=a([{prop:"name",label:"字典名称",formItem:{rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},attr:{}},{prop:"type",label:"字典标识",formItem:{rules:[{required:!0,message:"请输入字典标识",trigger:"blur"}]}},{render:"radio",prop:"status",label:"状态",options:[{label:"禁用",value:0},{label:"启用",value:1}]},{prop:"remark",label:"备注",attr:{type:"textarea",rows:3}}]),T=a([]),r=a({}),u=a([]),i=a(!1),F=()=>{u.value.push({label:"",value:""})},I=e=>(e.children=JSON.stringify(u.value),e),J=()=>{i.value=!1,S.updateSystemDict(!0)},M=()=>{i.value=!1},q=e=>{u.value.splice(e,1)},y=a(),w=(e,l,f)=>{f!=="detail"&&(d.value=!1,y.value.getData())};return(e,l)=>{const f=s("ak-list"),V=s("ak-form"),g=s("el-dialog"),O=s("el-form-item"),C=s("ak-field"),A=s("el-icon"),E=s("el-button");return x(j)()?(p(),$(ee,{key:1})):(p(),v("div",le,[o(f,{ref_key:"tableListEl",ref:y,pk:"id",columns:L.value,api:{list:"dictList",del:"dictDelete"},before:U,after:B,"control-btn":D.value},null,8,["columns","control-btn"]),o(g,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=t=>d.value=t),width:"500",title:m.value,class:"form-dialog"},{default:n(()=>[o(V,{ref_key:"formEl",ref:b,modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=t=>k.value=t),"label-width":"100px",pk:"id",after:w,data:N.value,api:{add:"dictSave",edit:"dictEdit",detail:"dictGet"},onCancel:h},null,8,["modelValue","data"])]),_:1},8,["modelValue","title"]),o(g,{modelValue:i.value,"onUpdate:modelValue":l[3]||(l[3]=t=>i.value=t),width:"500",title:"设置字典数据"},{default:n(()=>[o(V,{modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=t=>r.value=t),pk:"id",before:I,after:J,data:T.value,api:{edit:"dictEdit"},onCancel:M},{default:n(()=>[o(O,{label:"字典名称:"},{default:n(()=>[z("div",null,H(r.value.name),1)]),_:1}),(p(!0),v(K,null,Q(u.value,(t,G)=>(p(),v("div",{key:t.value,class:"flex-item"},[o(C,{modelValue:t.label,"onUpdate:modelValue":c=>t.label=c,label:"标签名称:",prop:"label"},null,8,["modelValue","onUpdate:modelValue"]),o(C,{modelValue:t.value,"onUpdate:modelValue":c=>t.value=c,label:"标签值:",prop:"value"},null,8,["modelValue","onUpdate:modelValue"]),o(E,{text:"",onClick:c=>q(G)},{default:n(()=>[o(A,null,{default:n(()=>[o(x(R))]),_:1})]),_:1},8,["onClick"])]))),128)),o(E,{onClick:F},{default:n(()=>[...l[4]||(l[4]=[X(" 添加一行 ",-1)])]),_:1})]),_:1},8,["modelValue","data"])]),_:1},8,["modelValue"])]))}}}),se=Z(te,[["__scopeId","data-v-f2b2b433"]]);export{se as default};
