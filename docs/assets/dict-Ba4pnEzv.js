import{d as Q,m as $,r as a,e as f,o as v,b as x,g as o,a as n,w as s,t as j,F as z,f as H,h as K,v as P,Q as R,B as W,_ as X}from"./index-BiMixNdo.js";const Y=Q({__name:"dict",setup(Z){const S=$(),p=a("新增字典"),b=a(),_=e=>{d.value=!0,p.value="编辑字典",W(()=>{b.value.getData({id:e.id})})},D=a([{key:"add",click:()=>{d.value=!0,p.value="新增字典"}},{key:"edit",click:e=>{e?.length>0&&_(e[0])}},{key:"del"}]),L=a([{type:"selection"},{label:"序号",type:"index",width:80},{prop:"name",label:"字典名称"},{prop:"type",label:"字典标识"},{prop:"status",label:"状态",render:"tag",replaceValue:{1:"启用",0:"禁用"},custom:{1:"success",0:"danger"},search:{render:"select",options:[{value:"0",label:"禁用"},{value:"1",label:"启用"}]}},{prop:"dateTime",label:"更新时间",width:180,render:"datetime",search:!1},{label:"操作",render:"buttons",buttons:[{key:"edit",label:"编辑",click:e=>{_(e)}},{label:"设置",click:e=>{i.value=!0,u.value.id=e.id,u.value.name=e.name,u.value.type=e.type,e.children&&(r.value=JSON.parse(e.children))}},{label:"删除",key:"del",tooltip:"del",popConfirm:{confirmButtonType:"danger"},display:e=>e.isSys===0,disabled:e=>e.isSys===1}]}]),U=(e,l)=>l,B=()=>{},d=a(!1),N=()=>{d.value=!1},k=a({status:1}),T=a([{prop:"name",label:"字典名称",formItem:{rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},attr:{}},{prop:"type",label:"字典标识",formItem:{rules:[{required:!0,message:"请输入字典标识",trigger:"blur"}]}},{render:"radio",prop:"status",label:"状态",options:[{label:"禁用",value:0},{label:"启用",value:1}]},{prop:"remark",label:"备注",attr:{type:"textarea",rows:3}}]),F=a([]),u=a({}),r=a([]),i=a(!1),h=()=>{r.value.push({label:"",value:""})},w=e=>(e.children=JSON.stringify(r.value),e),I=()=>{i.value=!1,S.updateSystemDict(!0)},q=()=>{i.value=!1},J=e=>{r.value.splice(e,1)},y=a(),M=(e,l,m)=>{m!=="detail"&&(d.value=!1,y.value.getData())};return(e,l)=>{const m=n("ak-list"),V=n("ak-form"),g=n("el-dialog"),O=n("el-form-item"),C=n("ak-field"),A=n("el-icon"),E=n("el-button");return v(),f("div",null,[l[5]||(l[5]=x("div",{class:"test"}," 测试 ",-1)),o(m,{ref_key:"tableListEl",ref:y,pk:"id",columns:L.value,api:{list:"dictList",del:"dictDelete"},before:U,after:B,"control-btn":D.value},null,8,["columns","control-btn"]),o(g,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=t=>d.value=t),width:"500",title:p.value,class:"form-dialog"},{default:s(()=>[o(V,{ref_key:"formEl",ref:b,modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=t=>k.value=t),"label-width":"100px",pk:"id",after:M,data:T.value,api:{add:"dictSave",edit:"dictEdit",detail:"dictGet"},onCancel:N},null,8,["modelValue","data"])]),_:1},8,["modelValue","title"]),o(g,{modelValue:i.value,"onUpdate:modelValue":l[3]||(l[3]=t=>i.value=t),width:"500",title:"设置字典数据"},{default:s(()=>[o(V,{modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=t=>u.value=t),pk:"id",before:w,after:I,data:F.value,api:{edit:"dictEdit"},onCancel:q},{default:s(()=>[o(O,{label:"字典名称:"},{default:s(()=>[x("div",null,j(u.value.name),1)]),_:1}),(v(!0),f(z,null,H(r.value,(t,G)=>(v(),f("div",{key:t.value,class:"flex-item"},[o(C,{modelValue:t.label,"onUpdate:modelValue":c=>t.label=c,label:"标签名称:",prop:"label"},null,8,["modelValue","onUpdate:modelValue"]),o(C,{modelValue:t.value,"onUpdate:modelValue":c=>t.value=c,label:"标签值:",prop:"value"},null,8,["modelValue","onUpdate:modelValue"]),o(E,{text:"",onClick:c=>J(G)},{default:s(()=>[o(A,null,{default:s(()=>[o(P(R))]),_:1})]),_:1},8,["onClick"])]))),128)),o(E,{onClick:h},{default:s(()=>[...l[4]||(l[4]=[K(" 添加一行 ",-1)])]),_:1})]),_:1},8,["modelValue","data"])]),_:1},8,["modelValue"])])}}}),le=X(Y,[["__scopeId","data-v-3011813b"]]);export{le as default};
