import{d as b,q as B,r as d,N as k,c as v,o as c,a as p,w as x,e as C,F as w,f as L,D as F,B as f}from"./index-BsPutIDd.js";const q=b({__name:"index",props:{modelValue:{default:void 0},customerId:{default:null},userId:{default:null}},emits:["update:modelValue","blur"],setup(_,{emit:h}){const n=_,m=h,g=B(()=>n.modelValue,e=>{a.value=e,e&&f(()=>{i("",e)})}),t=d([]),a=d(""),u=d(!1),i=(e,l)=>{if(e||l){u.value=!0;let s={name:e.replace("%",""),tid:n.customerId,userId:n.userId};l&&(s={id:l,userId:n.userId}),F("contactList",s).then(r=>{t.value=r.data.list||[],u.value=!1}).catch(()=>{t.value=[],u.value=!1})}else t.value=[]},I=()=>{m("update:modelValue",a.value)},V=()=>{f(()=>{if(a.value&&t.value.length>0){const e=t.value.find(l=>l.id===a.value);m("blur",a.value,e.name)}})};return k(()=>{g()}),(e,l)=>{const s=p("el-option"),r=p("el-select");return c(),v(r,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value=o),filterable:"",remote:"","remote-method":i,loading:u.value,onBlur:V,onChange:I},{default:x(()=>[(c(!0),C(w,null,L(t.value,o=>(c(),v(s,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])}}});export{q as _};
