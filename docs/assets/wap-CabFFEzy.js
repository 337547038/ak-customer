import{d as D,E as s,e as g,g as t,r as n,o as d,h as a,c as y,i as U,b as J,x as p,F as T,f as $,t as z,J as I,_ as O}from"./index-DuawtOAE.js";const A={class:"add-btn"},W=D({__name:"wap",setup(j){const i=s(),f=s(),C=e=>{i.value.deleteById(e)},u=s(!0),h=s([{prop:"name",label:"字典名称",rules:[{required:!0,message:"请填写字典名称"}]},{prop:"type",label:"字典标识",rules:[{required:!0,message:"请填写字典标识"}]},{prop:"status",label:"状态",render:"switch"},{prop:"remark",label:"备注"},{prop:"content",render:"scope",label:""}]),V=s([{prop:"name",label:"字典名称"},{prop:"status",label:"状态",render:"switch",modelValue:1}]),w=e=>{e==="add"&&(u.value=!0)},x=e=>{m(!0),u.value=!1,r.value=JSON.parse(e.children),I(()=>{f.value.setValue(e)})},r=s([]),B=()=>{r.value.push({label:"",value:""})},N=e=>{r.value.splice(e,1)},m=e=>{i.value.showForm(e)},S=e=>(e.children=JSON.stringify(r.value),delete e.dateTime,e),q=()=>{m(),i.value.onRefresh()};return(e,o)=>{const E=n("van-tag"),b=n("van-cell"),v=n("van-button"),F=n("van-swipe-cell"),k=n("van-field"),L=n("w-form"),R=n("w-list");return d(),g(R,{ref_key:"listRef",ref:i,api:{get:"dictList",del:"dictDelete"},"list-cls":"container","search-form-data":V.value,"form-title":u.value?"新增字典":"编辑字典","add-icon-visible":!0,onNavBarEvent:w},{item:t(({data:l})=>[a(F,null,{right:t(()=>[a(v,{disabled:l.isSys===1,square:"",type:"danger",text:"删除",onClick:_=>C(l.id)},null,8,["disabled","onClick"])]),default:t(()=>[a(b,{title:l.name,value:l.type,"is-link":"",onClick:_=>x(l)},{title:t(()=>[l.status===0?(d(),g(E,{key:0,type:"danger",style:{"margin-right":"2px"}},{default:t(()=>[...o[0]||(o[0]=[p(" 禁用 ",-1)])]),_:1})):$("",!0),p(" "+z(l.name),1)]),_:2},1032,["title","value","onClick"])]),_:2},1024)]),default:t(()=>[a(L,{ref_key:"formRef",ref:f,data:h.value,"submit-url":u.value?"dictSave":"dictEdit",before:S,after:q,onCancel:m},{content:t(()=>[a(b,{title:"设置字典数据"}),(d(!0),y(T,null,J(r.value,(l,_)=>(d(),y("div",{key:l.value,class:"item-group"},[a(k,{modelValue:l.label,"onUpdate:modelValue":c=>l.label=c,"label-width":"40px",name:"label",label:"标签",placeholder:"标签名称",rules:[{required:!0,message:"请填写标签名称"}]},null,8,["modelValue","onUpdate:modelValue"]),a(k,{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,"label-width":"50px",name:"value",label:"标签值",placeholder:"用户名",rules:[{required:!0,message:"请填写标签值"}]},null,8,["modelValue","onUpdate:modelValue"]),a(v,{type:"danger",size:"small",class:"del-btn",onClick:c=>N(_)},{default:t(()=>[...o[1]||(o[1]=[p(" 删除 ",-1)])]),_:1},8,["onClick"])]))),128)),U("div",A,[a(v,{type:"primary",size:"small",onClick:B},{default:t(()=>[...o[2]||(o[2]=[p(" 添加一行 ",-1)])]),_:1})])]),_:1},8,["data","submit-url"])]),_:1},8,["search-form-data","form-title"])}}}),H=O(W,[["__scopeId","data-v-19bac4d7"]]);export{H as default};
