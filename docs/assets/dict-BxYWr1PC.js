import{d as A,k as G,l as a,c as f,h as o,g as n,r as s,o as v,i as $,t as j,F as H,b as K,q as P,v as Q,O as R,z as W,_ as X}from"./index-CJ8aW7xe.js";const Y=A({__name:"dict",setup(Z){const x=G(),p=a("新增字典"),b=a(),_=e=>{d.value=!0,p.value="编辑字典",W(()=>{b.value.getData({id:e.id})})},S=a([{key:"add",click:()=>{d.value=!0,p.value="新增字典"}},{key:"edit",click:e=>{e?.length>0&&_(e[0])}},{key:"del"}]),B=a([{type:"selection"},{label:"序号",type:"index",width:80},{prop:"name",label:"字典名称"},{prop:"type",label:"字典标识"},{prop:"status",label:"状态",render:"tag",replaceValue:{1:"启用",0:"禁用"},custom:{1:"success",0:"danger"},search:{render:"select",options:[{value:"0",label:"禁用"},{value:"1",label:"启用"}]}},{prop:"dateTime",label:"更新时间",width:180,render:"datetime",search:!1},{label:"操作",render:"buttons",buttons:[{key:"edit",label:"编辑",click:e=>{_(e)}},{label:"设置",click:e=>{i.value=!0,u.value.id=e.id,u.value.name=e.name,u.value.type=e.type,e.children&&(r.value=JSON.parse(e.children))}},{label:"删除",key:"del",tooltip:"del",popConfirm:{confirmButtonType:"danger"},display:e=>e.isSys===0,disabled:e=>e.isSys===1}]}]),D=(e,l)=>l,L=(e,l)=>{},d=a(!1),U=()=>{d.value=!1},k=a({status:1}),h=a([{prop:"name",label:"字典名称",formItem:{rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},attr:{}},{prop:"type",label:"字典标识",formItem:{rules:[{required:!0,message:"请输入字典标识",trigger:"blur"}]}},{render:"radio",prop:"status",label:"状态",options:[{label:"禁用",value:0},{label:"启用",value:1}]},{prop:"remark",label:"备注",attr:{type:"textarea",rows:3}}]),N=a([]),u=a({}),r=a([]),i=a(!1),T=()=>{r.value.push({label:"",value:""})},F=e=>(e.children=JSON.stringify(r.value),e),q=()=>{i.value=!1,x.updateSystemDict(!0)},I=()=>{i.value=!1},O=e=>{r.value.splice(e,1)},y=a(),w=(e,l,m)=>{m!=="detail"&&(d.value=!1,y.value.getData())};return(e,l)=>{const m=s("ak-list"),V=s("ak-form"),g=s("el-dialog"),J=s("el-form-item"),C=s("ak-field"),M=s("el-icon"),E=s("el-button");return v(),f("div",null,[o(m,{ref_key:"tableListEl",ref:y,pk:"id",columns:B.value,api:{list:"dictList",del:"dictDelete"},before:D,after:L,controlBtn:S.value},null,8,["columns","controlBtn"]),o(g,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=t=>d.value=t),width:"500",title:p.value,class:"form-dialog"},{default:n(()=>[o(V,{"label-width":"100px",pk:"id",ref_key:"formEl",ref:b,onCancel:U,after:w,data:h.value,api:{add:"dictSave",edit:"dictEdit",detail:"dictGet"},modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=t=>k.value=t)},null,8,["data","modelValue"])]),_:1},8,["modelValue","title"]),o(g,{modelValue:i.value,"onUpdate:modelValue":l[3]||(l[3]=t=>i.value=t),width:"500",title:"设置字典数据"},{default:n(()=>[o(V,{pk:"id",onCancel:I,before:F,after:q,data:N.value,api:{edit:"dictEdit"},modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=t=>u.value=t)},{default:n(()=>[o(J,{label:"字典名称:"},{default:n(()=>[$("div",null,j(u.value.name),1)]),_:1}),(v(!0),f(H,null,K(r.value,(t,z)=>(v(),f("div",{key:t.value,class:"flex-item"},[o(C,{label:"标签名称:",modelValue:t.label,"onUpdate:modelValue":c=>t.label=c,prop:"label"},null,8,["modelValue","onUpdate:modelValue"]),o(C,{label:"标签值:",modelValue:t.value,"onUpdate:modelValue":c=>t.value=c,prop:"value"},null,8,["modelValue","onUpdate:modelValue"]),o(E,{onClick:c=>O(z),type:"text"},{default:n(()=>[o(M,null,{default:n(()=>[o(P(R))]),_:1})]),_:2},1032,["onClick"])]))),128)),o(E,{onClick:T},{default:n(()=>l[4]||(l[4]=[Q("添加一行")])),_:1,__:[4]})]),_:1},8,["data","modelValue"])]),_:1},8,["modelValue"])])}}}),le=X(Y,[["__scopeId","data-v-7590a6fa"]]);export{le as default};
