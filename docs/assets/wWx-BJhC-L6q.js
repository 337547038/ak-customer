import{d as v,E as u,e as m,o as g,g as d,i as o,w,G as y,h as k,r as _,x as C,ad as X,_ as G}from"./index-CkpV00AO.js";const $={class:"login-container"},L=["src"],V={class:"scan-login"},Z={class:"login-container"},B=["src"],I={class:"account"},R=v({__name:"index",props:{mode:{default:""}},setup(s,{expose:a}){const n=s,t=u(!1),h=()=>{t.value=!0,x()},f=()=>{t.value=!1},c=u(""),x=()=>{const r="wx28c54e66df42d7d1",e=n.mode==="dialog"?"/system/userCenter":"/login",i=encodeURIComponent(`https://xxxx.com/#/${e}`),l=Math.random().toString(36).substr(2,10),b="data:text/css;base64,LmltcG93ZXJCb3ggLmluZm97d2lkdGg6YXV0b30KLmltcG93ZXJCb3ggLnN0YXR1c3twYWRkaW5nOjB9Ci5pbXBvd2VyQm94IC50aXRsZSB7ZGlzcGxheTogbm9uZX0KLmltcG93ZXJCb3ggLnFyY29kZSB7d2lkdGg6IDk5JX0KI3d4X2RlZmF1bHRfdGlwe2Rpc3BsYXk6IG5vbmV9Cg==";c.value=`https://open.weixin.qq.com/connect/qrconnect?appid=${r}&redirect_uri=${i}&response_type=code&scope=snsapi_login&state=${l}&href=${b}`};return a({open:h}),(r,e)=>{const i=_("el-dialog"),l=_("el-button");return s.mode==="dialog"?(g(),m(i,{key:0,modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=p=>t.value=p),width:"300",title:"使用微信扫一扫绑定"},{default:d(()=>[o("div",$,[o("iframe",{src:c.value,frameborder:"0",scrolling:"no",style:{margin:"0 auto",display:"block"},width:"210",height:"280"},null,8,L)])]),_:1},8,["modelValue"])):(g(),m(X,{key:1,name:"slide-up"},{default:d(()=>[w(o("div",V,[o("div",Z,[o("iframe",{src:c.value,frameborder:"0",scrolling:"no",style:{margin:"0 auto",display:"block"},width:"210",height:"280"},null,8,B),e[1]||(e[1]=o("p",{class:"tips"}," 使用微信扫一扫登录 ",-1))]),o("div",I,[k(l,{type:"primary",text:"",onClick:f},{default:d(()=>[...e[2]||(e[2]=[C(" 使用账号密码登录 ",-1)])]),_:1})])],512),[[y,t.value]])]),_:1}))}}}),q=G(R,[["__scopeId","data-v-708b9f2a"]]),Y=(s="login")=>{const a="wx28c54e66df42d7d1",n=encodeURIComponent(`http://192.168.10.9/#/${s}`);console.log(n);const t=Math.random().toString(36).substr(2,10);window.location.href=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${a}&redirect_uri=${n}&response_type=code&scope=snsapi_userinfo&state=${t}#wechat_redirect`};export{q as W,Y as w};
