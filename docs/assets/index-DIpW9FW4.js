import{d as D,r as B,c as k,w as p,a as v,o as i,b as h,e as w,f as L,F as V,g as m,h as x,u as R,i as T,j as C,n as S,t as z,k as A,p as O,_ as I,l as j,m as U,q as E,s as F,v as g,x as q,y as G}from"./index-BsPutIDd.js";function H(s){return{all:s=s||new Map,on:function(a,t){var n=s.get(a);n?n.push(t):s.set(a,[t])},off:function(a,t){var n=s.get(a);n&&(t?n.splice(n.indexOf(t)>>>0,1):s.set(a,[]))},emit:function(a,t){var n=s.get(a);n&&n.slice().map(function(l){l(t)}),(n=s.get("*"))&&n.slice().map(function(l){l(a,t)})}}}const M=H(),J={class:"nav-list"},K={key:0,class:"nav-list-item"},Q={style:{display:"flex","justify-content":"center","padding-top":"30px"}},W=D({__name:"navPopup",props:{menuList:{}},setup(s,{expose:a}){const t=R(),n=B(!1),l=()=>{n.value=!0},e=u=>{for(const o in u)if(O(u[o].path))return!0;return!1},f=u=>{t.push({path:u}),c()},c=()=>{n.value=!1};return a({open:l}),(u,o)=>{const r=v("van-cell"),_=v("van-button"),$=v("van-popup"),N=T("permission");return i(),k($,{show:n.value,"onUpdate:show":o[0]||(o[0]=d=>n.value=d),position:"right",style:{width:"88%",height:"100%"}},{default:p(()=>[h("div",J,[(i(!0),w(V,null,L(u.menuList,(d,y)=>(i(),w("div",{key:y,class:"nav-group"},[d.children&&e(d.children)?(i(),w("div",K,[h("h3",null,[h("i",{class:S(d.icon)},null,2),x(" "+z(d.title),1)]),(i(!0),w(V,null,L(d.children,b=>(i(),w(V,{key:b.path},[b.type!=="btn"?A((i(),k(r,{key:0,onClick:ot=>f(b.path)},{title:p(()=>[h("i",{class:S(b.icon),style:{"margin-right":"2px"}},null,2),h("span",null,z(b.title),1)]),_:2},1032,["onClick"])),[[N,b.path]]):C("",!0)],64))),128))])):C("",!0)]))),128))]),h("div",Q,[m(_,{size:"small",onClick:c},{default:p(()=>[...o[1]||(o[1]=[x(" 关闭 ",-1)])]),_:1})])]),_:1},8,["show"])}}}),X=I(W,[["__scopeId","data-v-b1a81261"]]),Y=D({__name:"tabbar",props:{modelValue:{default:0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const a=R(),t=j(s,"modelValue"),n=l=>{let e="";switch(l){case 0:e="/";break;case 1:e="/customer/list";break;case 2:e="/contract/contract";break;case 3:e="/system/userCenter";break}a.push({path:e})};return(l,e)=>{const f=v("van-tabbar-item"),c=v("van-tabbar");return i(),k(c,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=u=>t.value=u),placeholder:!0,onChange:n},{default:p(()=>[m(f,{icon:"home"},{default:p(()=>[...e[1]||(e[1]=[x(" 首页 ",-1)])]),_:1}),m(f,{icon:"customer"},{default:p(()=>[...e[2]||(e[2]=[x(" 客户管理 ",-1)])]),_:1}),m(f,{icon:"contract"},{default:p(()=>[...e[3]||(e[3]=[x(" 合同管理 ",-1)])]),_:1}),m(f,{icon:"user"},{default:p(()=>[...e[4]||(e[4]=[x(" 我的 ",-1)])]),_:1})]),_:1},8,["modelValue"])}}}),Z=I(Y,[["__scopeId","data-v-842907f2"]]),P=[{title:"首页",path:"/",icon:"icon-home"},{title:"数据分析",menuIndex:"analysis",icon:"icon-analysis1",children:[{icon:"icon-analysis3",title:"客户级别",path:"/analysis/type"},{icon:"icon-source",title:"客户来源",path:"/analysis/source"},{icon:"icon-analysis4",title:"客户行业",path:"/analysis/industry"},{icon:"icon-area",title:"客户区域",path:"/analysis/area"},{icon:"icon-user-num",title:"员工客户量",path:"/analysis/customer"},{icon:"icon-follows",title:"跟进分析",path:"/analysis/follow"},{icon:"icon-ranking",title:"合同排行",path:"/analysis/contract"}]},{title:"客户管理",icon:"icon-customer",children:[{title:"客户查重",path:"/customer/check",icon:"icon-check"},{title:"客户列表",path:"/customer/list",icon:"icon-list"},{title:"联系人",path:"/customer/contact",icon:"icon-contact"},{title:"跟进记录",path:"/customer/follow",icon:"icon-follow-record"},{title:"公海客户",path:"/customer/list-comm",icon:"icon-comm-user"},{title:"无效客户",path:"/customer/list-invalid",icon:"icon-invalid"},{title:"名片识别",path:"/customer/ocr",icon:"icon-card"},{title:"删除客户",path:"delCustomer",type:"btn"}]},{title:"合同管理",icon:"icon-contract",menuIndex:"contract",children:[{title:"我的合同",icon:"icon-contract2",path:"/contract/contract"},{title:"我的回款",icon:"icon-payment",path:"/contract/payment"}]},{title:"系统管理",icon:"icon-config",children:[{title:"用户管理",path:"/system/user",icon:"icon-user2"},{title:"角色管理",path:"/system/role",icon:"icon-role"},{title:"部门管理",path:"/system/dept",icon:"icon-dept"},{title:"登录日志",path:"/system/log",icon:"icon-log"},{title:"字典管理",path:"/system/dict",icon:"icon-dict"},{title:"清空缓存",path:"/system/cache",icon:"icon-clear"}]}],tt={class:"layout-container"},et={class:"icon-group"},nt=D({__name:"index",setup(s){const a=q(),t=U(),n=()=>{M.emit("nav-bar-left-arrow-event",{})},l=o=>{M.emit(`nav-bar-right-${o}-event`,{})},e=B(),f=()=>{e.value.open()},c=B();E(()=>a.path,o=>{c.value=-1,o==="/"&&(c.value=0),o.indexOf("/customer")===0&&(c.value=1),o.indexOf("/contract")===0&&(c.value=2),o.indexOf("/system")===0&&(c.value=3),P.forEach(r=>{if(r.children?.length){for(const _ of r.children)if(_.path===o){t.setNavBarTitle(_.title);break}}})},{immediate:!0});const u=()=>{t.updateSystemDict(!1)};return F(()=>{u()}),(o,r)=>{const _=v("van-icon"),$=v("van-nav-bar"),N=v("router-view"),d=v("van-back-top");return i(),w(V,null,[h("div",tt,[m($,{fixed:"",placeholder:"","safe-area-inset-top":"",title:g(t).navBarTitle,"left-arrow":g(t).leftArrow,onClickLeft:n},{right:p(()=>[h("div",et,[g(t).rightSearchArrow?(i(),k(_,{key:0,name:"search",size:"26",onClick:r[0]||(r[0]=y=>l("search"))})):C("",!0),g(t).rightAddArrow?(i(),k(_,{key:1,name:"add-o",size:"26",onClick:r[1]||(r[1]=y=>l("add"))})):C("",!0),m(_,{name:"wap-nav",size:"28",onClick:f})])]),_:1},8,["title","left-arrow"]),m(N,null,{default:p(({Component:y})=>[(i(),k(G(y)))]),_:1}),m(X,{ref_key:"navPopupRef",ref:e,"menu-list":g(P)},null,8,["menu-list"]),m(Z,{modelValue:c.value,"onUpdate:modelValue":r[2]||(r[2]=y=>c.value=y)},null,8,["modelValue"])]),g(t).backTop?(i(),k(d,{key:0})):C("",!0)],64)}}}),it=I(nt,[["__scopeId","data-v-e091e05e"]]);export{it as default};
