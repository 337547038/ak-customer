import{d as V,m as k,l as c,N as x,e as v,g as B,r as p,o as d,c as C,b as L,F as w,z as f,D as F}from"./index-BRtqQkpX.js";const z=V({__name:"index",props:{modelValue:{},customerId:{},userId:{}},emits:["update:modelValue","blur"],setup(_,{emit:g}){const n=_,m=g,h=k(()=>n.modelValue,e=>{l.value=e,e&&f(()=>{i("",e)})}),t=c([]),l=c(""),s=c(!1),i=(e,a)=>{if(e||a){s.value=!0;let u={name:e.replace("%",""),tid:n.customerId,userId:n.userId};a&&(u={id:a,userId:n.userId}),F("contactList",u).then(r=>{t.value=r.data.list||[],s.value=!1}).catch(()=>{t.value=[],s.value=!1})}else t.value=[]},b=e=>{m("update:modelValue",l.value)},I=()=>{f(()=>{if(l.value&&t.value.length>0){const e=t.value.find(a=>a.id===l.value);m("blur",l.value,e.name)}})};return x(()=>{h()}),(e,a)=>{const u=p("el-option"),r=p("el-select");return d(),v(r,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value=o),filterable:"",remote:"","remote-method":i,loading:s.value,onBlur:I,onChange:b},{default:B(()=>[(d(!0),C(w,null,L(t.value,o=>(d(),v(u,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])}}});export{z as _};
