import{_ as m}from"./index.vue_vue_type_script_setup_true_lang-_AmnQ_dk.js";import{d as f,l as t,k as h,s as b,I as _,c as k,h as c,F as w,o as y,r as v}from"./index-CJ8aW7xe.js";import{_ as C}from"./paymentForm.vue_vue_type_script_setup_true_lang-DdCrYLi6.js";import"./validate-BQpdx7O0.js";const F=f({__name:"index",setup(g){const a=t(),n=h(),r=t(),o=t(),p=b(()=>n.userInfo?.hasChild),d=[{label:"下属人员",prop:"userId",show:!1,search:{changeRefresh:!0,style:{width:"230px"},visible:p.value,render:"select",ajax:{api:"userChildList",data:{},label:"userName",value:"id"},clearable:!0,onChange:e=>{a.value=e}}},{prop:"code",label:"回款编号"},{prop:"customerId",label:"客户名称",width:180,showOverflowTooltip:!0,formatter:e=>e.customerName,search:{render:"component",component:_(m)}},{prop:"contractCode",label:"合同编号",search:!1},{prop:"contractName",label:"合同名称",search:!1},{prop:"money",label:"回款金额",search:!1,width:100},{prop:"datetime",label:"回款时间",render:"datetime",width:120,showOverflowTooltip:!0,search:!1},{prop:"account",label:"回款账户",render:"tag",replaceValue:"accountType",search:!1,width:100},{prop:"status",label:"审核状态",render:"tag",replaceValue:{0:"待审核",1:"通过",2:"拒绝"},custom:{0:"primary",1:"success",2:"danger"},search:{render:"select",options:{0:"待审核",1:"通过",2:"拒绝"}},width:100},{prop:"creatDate",label:"创建时间",render:"datetime",width:120,showOverflowTooltip:!0,search:!1},{prop:"operate",label:"操作",width:150,render:"buttons",buttons:[{key:"edit",label:"详情",attr:{text:!0},click:e=>{l(!0,e)}},{key:"del",label:"删除",attr:{text:!0}}],search:!1}],l=(e,s)=>{o.value.open(e,s)},i=()=>{r.value.getData()};return(e,s)=>{const u=v("ak-list");return y(),k(w,null,[c(u,{ref_key:"tableListRef",ref:r,columns:d,pk:"id",api:{list:"contractPaymentList",del:"contractPaymentDel"},"control-btn":[{key:"add",click:()=>{l(!1)}}]},null,8,["control-btn"]),c(C,{ref_key:"paymentFormRef",ref:o,onCallback:i,"user-id":a.value},null,8,["user-id"])],64)}}});export{F as default};
