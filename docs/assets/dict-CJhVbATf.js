import{d as G,m as Q,r as a,e as f,o as v,g as o,a as n,w as s,b as $,t as j,F as z,f as H,h as K,v as P,Q as R,B as W,_ as X}from"./index-BsPutIDd.js";const Y=G({__name:"dict",setup(Z){const x=Q(),p=a("新增字典"),b=a(),_=e=>{d.value=!0,p.value="编辑字典",W(()=>{b.value.getData({id:e.id})})},S=a([{key:"add",click:()=>{d.value=!0,p.value="新增字典"}},{key:"edit",click:e=>{e?.length>0&&_(e[0])}},{key:"del"}]),D=a([{type:"selection"},{label:"序号",type:"index",width:80},{prop:"name",label:"字典名称"},{prop:"type",label:"字典标识"},{prop:"status",label:"状态",render:"tag",replaceValue:{1:"启用",0:"禁用"},custom:{1:"success",0:"danger"},search:{render:"select",options:[{value:"0",label:"禁用"},{value:"1",label:"启用"}]}},{prop:"dateTime",label:"更新时间",width:180,render:"datetime",search:!1},{label:"操作",render:"buttons",buttons:[{key:"edit",label:"编辑",click:e=>{_(e)}},{label:"设置",click:e=>{i.value=!0,u.value.id=e.id,u.value.name=e.name,u.value.type=e.type,e.children&&(r.value=JSON.parse(e.children))}},{label:"删除",key:"del",tooltip:"del",popConfirm:{confirmButtonType:"danger"},display:e=>e.isSys===0,disabled:e=>e.isSys===1}]}]),L=(e,l)=>l,U=()=>{},d=a(!1),B=()=>{d.value=!1},k=a({status:1}),h=a([{prop:"name",label:"字典名称",formItem:{rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},attr:{}},{prop:"type",label:"字典标识",formItem:{rules:[{required:!0,message:"请输入字典标识",trigger:"blur"}]}},{render:"radio",prop:"status",label:"状态",options:[{label:"禁用",value:0},{label:"启用",value:1}]},{prop:"remark",label:"备注",attr:{type:"textarea",rows:3}}]),N=a([]),u=a({}),r=a([]),i=a(!1),T=()=>{r.value.push({label:"",value:""})},F=e=>(e.children=JSON.stringify(r.value),e),w=()=>{i.value=!1,x.updateSystemDict(!0)},I=()=>{i.value=!1},q=e=>{r.value.splice(e,1)},y=a(),J=(e,l,m)=>{m!=="detail"&&(d.value=!1,y.value.getData())};return(e,l)=>{const m=n("ak-list"),V=n("ak-form"),g=n("el-dialog"),M=n("el-form-item"),C=n("ak-field"),O=n("el-icon"),E=n("el-button");return v(),f("div",null,[o(m,{ref_key:"tableListEl",ref:y,pk:"id",columns:D.value,api:{list:"dictList",del:"dictDelete"},before:L,after:U,"control-btn":S.value},null,8,["columns","control-btn"]),o(g,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=t=>d.value=t),width:"500",title:p.value,class:"form-dialog"},{default:s(()=>[o(V,{ref_key:"formEl",ref:b,modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=t=>k.value=t),"label-width":"100px",pk:"id",after:J,data:h.value,api:{add:"dictSave",edit:"dictEdit",detail:"dictGet"},onCancel:B},null,8,["modelValue","data"])]),_:1},8,["modelValue","title"]),o(g,{modelValue:i.value,"onUpdate:modelValue":l[3]||(l[3]=t=>i.value=t),width:"500",title:"设置字典数据"},{default:s(()=>[o(V,{modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=t=>u.value=t),pk:"id",before:F,after:w,data:N.value,api:{edit:"dictEdit"},onCancel:I},{default:s(()=>[o(M,{label:"字典名称:"},{default:s(()=>[$("div",null,j(u.value.name),1)]),_:1}),(v(!0),f(z,null,H(r.value,(t,A)=>(v(),f("div",{key:t.value,class:"flex-item"},[o(C,{modelValue:t.label,"onUpdate:modelValue":c=>t.label=c,label:"标签名称:",prop:"label"},null,8,["modelValue","onUpdate:modelValue"]),o(C,{modelValue:t.value,"onUpdate:modelValue":c=>t.value=c,label:"标签值:",prop:"value"},null,8,["modelValue","onUpdate:modelValue"]),o(E,{text:"",onClick:c=>q(A)},{default:s(()=>[o(O,null,{default:s(()=>[o(P(R))]),_:1})]),_:1},8,["onClick"])]))),128)),o(E,{onClick:T},{default:s(()=>[...l[4]||(l[4]=[K(" 添加一行 ",-1)])]),_:1})]),_:1},8,["modelValue","data"])]),_:1},8,["modelValue"])])}}}),le=X(Y,[["__scopeId","data-v-fd394090"]]);export{le as default};
