import{_,m as f}from"./childUser.vue_vue_type_script_setup_true_lang-DEpLh35T.js";import{d as x,k as b,E as c,m as k,c as T,o as v,F as C,h as y,R as E}from"./index-DuawtOAE.js";const S=x({__name:"bar",props:{pageType:{}},setup(u){const l=b(),s=u,m=e=>{i(e)},o=c([]),p=c([]),d=c({tooltip:{},xAxis:{type:"category",data:o},yAxis:{type:"value"},series:[{label:{show:!0,position:"top"},barMaxWidth:100,data:p,type:"bar"}]}),g=e=>{let t=s.pageType;switch(s.pageType){case"industry":t="industryType";break;case"type":t="cooperationType";break}const h=l.getSystemDict(t),a={};e.forEach(n=>{const r=h[n[s.pageType]]||"未分类";a[r]||(a[r]=0),a[r]++}),o.value=Object.keys(a),p.value=o.value.map(n=>a[n])},i=e=>{E("analysisCustomer",{userId:e}).then(t=>{g(t.data?.list)})};return k(()=>{i()}),(e,t)=>(v(),T(C,null,[y(_,{onChange:m}),y(f,{option:d.value},null,8,["option"])],64))}});export{S as _};
