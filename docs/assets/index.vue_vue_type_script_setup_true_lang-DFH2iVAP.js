import{d as V,l as k,E as d,a4 as x,e as v,g as B,r as p,o as c,c as C,b as L,F as R,J as f,R as w}from"./index-CkpV00AO.js";const F=V({__name:"index",props:{modelValue:{default:void 0},customerId:{default:null},userId:{default:null}},emits:["update:modelValue","blur"],setup(_,{emit:g}){const n=_,m=g,h=k(()=>n.modelValue,e=>{a.value=e,e&&f(()=>{i("",e)})}),t=d([]),a=d(""),u=d(!1),i=(e,l)=>{if(e||l){u.value=!0;let s={name:e.replace("%",""),tid:n.customerId,userId:n.userId};l&&(s={id:l,userId:n.userId}),w("contactList",s).then(r=>{t.value=r.data.list||[],u.value=!1}).catch(()=>{t.value=[],u.value=!1})}else t.value=[]},b=()=>{m("update:modelValue",a.value)},I=()=>{f(()=>{if(a.value&&t.value.length>0){const e=t.value.find(l=>l.id===a.value);m("blur",a.value,e.name)}})};return x(()=>{h()}),(e,l)=>{const s=p("el-option"),r=p("el-select");return c(),v(r,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value=o),filterable:"",remote:"","remote-method":i,loading:u.value,onBlur:I,onChange:b},{default:B(()=>[(c(!0),C(R,null,L(t.value,o=>(c(),v(s,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])}}});export{F as _};
