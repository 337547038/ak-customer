import{_ as f,m as b}from"./childUser.vue_vue_type_script_setup_true_lang-C4SXVK3w.js";import{d as x,k,E as p,P as y,m as v,c as T,o as C,F as E,h as l,R as A}from"./index-CNiyTwfQ.js";const S=x({__name:"bar",props:{pageType:{}},setup(u){const m=k(),o=u,d=e=>{i(e)},s=p([]),c=p([]),g=p({tooltip:{},xAxis:y()?{type:"value"}:{type:"category",data:s},yAxis:y()?{type:"category",data:s}:{type:"value"},series:[{label:{show:!0,position:"top"},barMaxWidth:100,data:c,type:"bar"}]}),h=e=>{let t=o.pageType;switch(o.pageType){case"industry":t="industryType";break;case"type":t="cooperationType";break}const _=m.getSystemDict(t),a={};e.forEach(n=>{const r=_[n[o.pageType]]||"未分类";a[r]||(a[r]=0),a[r]++}),s.value=Object.keys(a),c.value=s.value.map(n=>a[n])},i=e=>{A("analysisCustomer",{userId:e}).then(t=>{h(t.data?.list)})};return v(()=>{i()}),(e,t)=>(C(),T(E,null,[l(f,{onChange:d}),l(b,{option:g.value},null,8,["option"])],64))}});export{S as _};
